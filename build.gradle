group 'org.discordbots'

apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'maven-publish'

repositories {
    mavenCentral()
    mavenLocal()
}

dependencies {

    //Logger
    implementation 'org.slf4j:slf4j-api:1.7.25'

    implementation 'org.json:json:20180130'
    implementation 'com.squareup.okhttp3:okhttp:3.11.0'
    implementation 'com.google.code.gson:gson:2.8.5'
    implementation 'com.fatboyindustrial.gson-javatime-serialisers:gson-javatime-serialisers:1.1.1'
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            groupId 'org.discordbots'
            artifactId 'DBL-Java-Library'
            version '2.1.1'

            from components.java
        }
    }
    repositories {
        maven {
            name = "maven"
            credentials(PasswordCredentials) {
                username getProjectProperty("MAVEN_USERNAME")
                password getProjectProperty("MAVEN_PASSWORD")
            }
            url = getProjectProperty("MAVEN_URL")
        }
    }
}
